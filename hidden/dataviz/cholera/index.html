<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Cholera Visualization</title>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>


<body>
<div class="ui centered container">
     <div id="DeathTable" style=""></div>
</div>

</body>

<script>
  Plotly.d3.tsv("./choleraDeaths.tsv", function(err, rows) {

    function unpack(rows, key) {
      return rows.map(function(row) { return row[key]; });
    }

    var headerNames = Plotly.d3.keys(rows[0]);

    // cell values
    var cellValues = [];
    var headerValues = [];
    for (i = 0; i < headerNames.length; i++) {
      headerValue = [headerNames[i]];
      headerValues[i] = headerValue;
      cellValue = unpack(rows, headerNames[i]);
      cellValues[i] = cellValue;
    }

    var data = [{
      type: 'table',
      header: {
        values: headerValues,
        align: "center",
        line: { width: 1, color: 'black' },
        fill: { color: "grey" },
        font: { family: "Arial", size: 12, color: "white" }
      },
      cells: {
        values: cellValues,
        align: "center",
        line: { color: "black", width: 1 },
        font: { family: "Arial", size: 11, color: ["black"] }
      }
    }]

    DeathTable = document.getElementById('DeathTable');
    Plotly.plot(DeathTable, data, {
      margin: { t: 0 }
    });

  });
</script>

</html>